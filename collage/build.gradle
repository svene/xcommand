//apply plugin: JavaCCPlugin

dependencies {
	compile project(':xcommand')
	compile "commons-lang:commons-lang:2.3"
	compile "jboss:javassist:3.6.ga"
	compile "net.java.dev.javacc:javacc:4.0"
}

//______________________________________________________

task jcc (dependsOn: 'renameJCC') {
	def inputFile = 'templateparser.jj' 
	def genDir = 'build/org/collage/jcc'

	inputs.file inputFile
	outputs.dir genDir

	doLast {
		println "generate jcc source"
		ant.mkdir(dir: 'build/_artifacts')
		ant.mkdir(dir: 'build/org/collage/jcc')
		ant.javacc(target: inputFile, outputdirectory: genDir, javacchome: 'build/_artifacts')
	}

	sourceSets.main.java.srcDir(genDir)
}

compileJava.dependsOn(jcc)
//______________________________________________________


task listJars << {
    configurations.compile.each { File file ->
                println file.name
        }
}






